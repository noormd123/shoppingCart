!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=4)}([function(t,e,i){var n=i(1),s=i(2);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[t.i,s,""]]);var r={insert:"head",singleton:!1},o=(n(t.i,s,r),s.locals?s.locals:{});t.exports=o},function(t,e,i){"use strict";var n,s=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},r=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),o={};function a(t,e,i){for(var n=0;n<e.length;n++){var s={css:e[n][1],media:e[n][2],sourceMap:e[n][3]};o[t][n]?o[t][n](s):o[t].push(g(s,i))}}function c(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var s=i.nc;s&&(n.nonce=s)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var o=r(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var l,d=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function p(t,e,i,n){var s=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=d(e,s);else{var r=document.createTextNode(s),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(r,o[e]):t.appendChild(r)}}function h(t,e,i){var n=i.css,s=i.media,r=i.sourceMap;if(s?t.setAttribute("media",s):t.removeAttribute("media"),r&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var u=null,m=0;function g(t,e){var i,n,s;if(e.singleton){var r=m++;i=u||(u=c(e)),n=p.bind(null,i,r,!1),s=p.bind(null,i,r,!0)}else i=c(e),n=h.bind(null,i,e),s=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else s()}}t.exports=function(t,e,i){return(i=i||{}).singleton||"boolean"==typeof i.singleton||(i.singleton=s()),t=i.base?t+i.base:t,e=e||[],o[t]||(o[t]=[]),a(t,e,i),function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){o[t]||(o[t]=[]),a(t,e,i);for(var n=e.length;n<o[t].length;n++)o[t][n]();o[t].length=e.length,0===o[t].length&&delete o[t]}}}},function(t,e,i){(e=i(3)(!1)).push([t.i,'@font-face{font-family:\'verdana\';src:local("../fonts/verdana.ttf") format("truetype")}*{padding:0;margin:0}body{font-family:\'verdana\', sans-serif;font-size:12px;background:#f1f3f6;display:flex;min-height:100vh;flex-direction:column;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.clear{clear:both}.float-left{float:left}button{display:inline-block;margin-bottom:0;font-weight:bold;text-align:center;white-space:nowrap;vertical-align:middle;cursor:pointer;background-image:none;border:1px solid transparent;padding:6px 12px;font-size:1em;line-height:1.4;border-radius:30px;color:#000;background-color:#f7ad22}header{background:#4269ea;padding:10px}header .left-section{float:left}header .left-section h1{display:inline-block;width:20px;height:20px;background:url("/shoppingCart/demo/images/star.svg");background-size:20px 20px}header .right-section{float:right}section{flex:1}.search{display:inline-block;width:20px;height:20px;background:url("/shoppingCart/demo/images/search.svg");background-size:20px 20px}.cart{display:inline-block;width:20px;height:20px;background:url("/shoppingCart/demo/images/shopping-cart.svg");background-size:20px 20px;position:relative}.cart .cart-total{cursor:pointer;background:#ef1010;display:inline-block;border-radius:50%;text-align:center;color:#fff;font-size:0.7em;padding:1px 4px;position:absolute;top:-5px;right:-5px}.filter-section{float:left;width:20%}.filter-section .filter{margin:10px}.sort-section{margin:20px 20px 20px 0}.sort-section h4{display:inline-block}.sort-section a{color:#888787;display:inline-block;margin-left:20px;text-decoration:none;font-size:1em;font-weight:bold}.sort-section a:hover{text-decoration:underline;color:#5c7eec}.content{float:left;width:75%;padding:0 2%;border-left:1px solid #ccc}.content .shopping-list .shopping-item{width:140px;display:inline-block;margin:0px 5px 20px}.content .shopping-list .shopping-item .item-name{margin-bottom:10px}.content .shopping-list .shopping-item .discount-price{font-weight:bold}.content .shopping-list .shopping-item .original-price{color:gray;text-decoration:line-through}.content .shopping-list .shopping-item .discount{color:#4ab54b;font-weight:bold;font-size:1em}.content .shopping-list .shopping-item .add-to-cart{margin-top:10px}#cart-list-section .cart-list{float:left;width:72%;margin:1%}#cart-list-section .cart-list .cart-item{background:#fff;padding:10px;border:1px solid #000;margin-bottom:10px}#cart-list-section .cart-list .cart-item .item-image{width:25%}#cart-list-section .cart-list .cart-item .item-details{margin-left:2%;width:70%}#cart-list-section .cart-list .cart-item .item-details .item-section{display:inline-block;width:40%}#cart-list-section .cart-list .cart-item .item-details .item-section .item-name{margin-bottom:10px}#cart-list-section .cart-list .cart-item .item-details .item-section .discount-price{font-weight:bold}#cart-list-section .cart-list .cart-item .item-details .item-section .original-price{color:gray;text-decoration:line-through}#cart-list-section .cart-list .cart-item .item-details .item-section .discount{color:#4ab54b;font-weight:bold;font-size:1em}#cart-list-section .cart-list .cart-item .item-details .count-section{display:inline-block;width:40%}#cart-list-section .cart-list .cart-item .item-details .count-section .count{display:inline-block;border:1px solid #000;padding:5px 13px;margin:0 10px;width:10%;text-align:center}#cart-list-section .cart-list .cart-item .item-details .count-section .add-remove-icon{cursor:pointer;display:inline-block;width:20px;height:20px;background:url("/shoppingCart/demo/images/plus-circle.svg");background-size:20px 20px;vertical-align:-5px}#cart-list-section .cart-list .cart-item .item-details .count-section .add-remove-icon.plus-icon{background:url("/shoppingCart/demo/images/plus-circle.svg")}#cart-list-section .cart-list .cart-item .item-details .count-section .add-remove-icon.minus-icon{background:url("/shoppingCart/demo/images/minus-circle.svg")}#cart-list-section .cart-list .cart-item .item-details .remove-section{cursor:pointer;display:inline-block;color:#000;text-transform:uppercase;font-size:1.2em;font-weight:bold}#cart-list-section .price-details{float:left;width:22%;margin:1%;background:#fff;border:1px solid #000}#cart-list-section .price-details h3{color:#717070;padding:10px;border-bottom:1px solid #000}#cart-list-section .price-details table{border-collapse:collapse;width:100%}#cart-list-section .price-details table th,#cart-list-section .price-details table td{padding:10px;font-weight:normal}#cart-list-section .price-details table tfoot tr th,#cart-list-section .price-details table tfoot tr td{border-top:1px solid #000;font-weight:bold}#cart-list-section .empty-cart{font-size:3em;margin:10px;text-align:center}footer{flex-shrink:0;background:#4269ea;color:#fff;text-align:center;padding:10px}@media only screen and (max-width: 700px){#cart-list-section .cart-list,#cart-list-section .price-details{float:none;margin:2%;width:96%}#cart-list-section .item-details .item-section,#cart-list-section .item-details .count-section,#cart-list-section .item-details .remove-section{float:none;width:100%;margin-top:18px}#cart-list-section .item-details .item-section{margin-top:0}}\n',""]),t.exports=e},function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var s=(o=n,a=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),r=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot).concat(t," */")}));return[i].concat(r).concat([s]).join("\n")}var o,a,c;return[i].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n=0;n<t.length;n++){var s=[].concat(t[n]);i&&(s[2]?s[2]="".concat(i," and ").concat(s[2]):s[2]=i),e.push(s)}},e}},function(t,e,i){"use strict";i.r(e);const n=()=>'\n        <div class="search"></div>\n';class s{constructor(){}render(){return n()}}const r=t=>`\n        <div class="cart">\n\t\t\t<span class="cart-total" id="totalCart">${t}</span>\n\t\t</div>\n\t\t\n`;class o{constructor(){this.totalCart=""}render(t){return t&&(this.totalCart=t,document.querySelector("#totalCart").innerHTML=this.totalCart),this.addCartEvents(),r(this.totalCart)}addCartEvents(){document.body.addEventListener("click",t=>{t.stopImmediatePropagation(),"totalCart"==t.target.id&&y.renderPage("addToCart")})}}const a=(t,e)=>`\n        <div class="left-section">\n           <h1></h1>\n        </div>\n        <div class="right-section">\n            ${t}\n            ${e}\n        </div>\n\t\t<div class="clear"></div>\n`;class c{constructor(){this.totalCart=""}render(t){let e=new s,i=new o;return a(e.render(),i.render())}}const l={render:()=>'\n        <div class="filter-section hide-mobile">\n\t\t\t<div class="filter">Filters</div>\n        </div>\n'},d=()=>'\n        <div class="sort-section">\n\t\t\t<h4>Sort By</h4>\n\t\t\t<a class="sort" href="javascript:void(0);" sort-direction="desc">Price -- High Low</a>\n\t\t\t<a class="sort" href="javascript:void(0);" sort-direction="asc">Price -- Low High</a>\n\t\t\t<a class="sort" href="javascript:void(0);" sort-direction="discount">Discount</a>\n\t\t</div>\n',p=t=>`\n\t<div class="shopping-list" id="shopping-list">\n\t\t${t}\n\t</div>\n`,h=t=>`\n\t<div class="shopping-item">\n\t\t<div class="item-image">\n\t\t\t<img src="${t.img_url}" width="100" height="120" />\n\t\t</div>\n\t\t<div class="item-name">${t.name}</div>\n\t\t<div class="item-value">\n\t\t\t<span class="discount-price">₹${t.discountPrice}</span>\n\t\t\t<span class="original-price">${t.price}</span>\n\t\t\t<span class="discount">${t.discount}% off</span>\n\t\t</div>\n\t\t<div class="add-to-cart">\n\t\t\t<button class="addToCart" itemid="${t.id}" type="button">Add to Cart</button>\n\t\t</div>\n\t</div>\n`;class u{constructor(){if(u.instance)return u.instance;this.cartListIDs=[],this.shoppinglist=[],this.shoppinglistLength=0,this.cartHeader=new o,u.instance=this}getShoppingList(){return this.shoppinglist}getCartListIDs(){return this.cartListIDs}async renderComponent(){let t,e=await this.loadData();this.shoppinglist=e,this.shoppinglistLength=this.shoppinglist.length;for(let t=0;t<this.shoppinglistLength;t++)this.shoppinglist[t].discountPrice=this.shoppinglist[t].price-this.shoppinglist[t].price*this.shoppinglist[t].discount/100;return t=this.renderTemplate(),t}async loadData(){try{let t=await fetch("https://api.myjson.com/bins/qzuzi");return await t.json()}catch(t){return[{id:9090,name:"Item1",price:200,discount:10,category:"fiction",img_url:"http://lorempixel.com/500/600/technics/"},{id:9091,name:"Item2",price:250,discount:15,category:"literature",img_url:"http://lorempixel.com/500/600/technics/"},{id:9092,name:"Item3",price:320,discount:5,category:"literature",img_url:"http://lorempixel.com/500/600/technics/"},{id:9093,name:"Item4",price:290,discount:0,category:"thriller",img_url:"http://lorempixel.com/500/600/technics/"},{id:9094,name:"Item1",price:500,discount:25,category:"thriller",img_url:"http://lorempixel.com/500/600/technics/"},{id:9095,name:"Item2",price:150,discount:5,category:"literature",img_url:"http://lorempixel.com/500/600/technics/"},{id:9096,name:"Item3",price:700,discount:22,category:"literature",img_url:"http://lorempixel.com/500/600/technics/"},{id:9097,name:"Item4",price:350,discount:18,category:"fiction",img_url:"http://lorempixel.com/500/600/technics/"}]}}renderTemplate(){let t="";for(let e=0;e<this.shoppinglistLength;e++)t+=h(this.shoppinglist[e]);return p(t)}addShoppingListEvents(){document.querySelectorAll(".addToCart").forEach(t=>{t.addEventListener("click",e=>{let i=t.getAttribute("itemid");this.cartListIDs.push(i),this.cartHeader.render(this.cartListIDs.length)})})}reRender(){let t="";for(let e=0;e<this.shoppinglistLength;e++)t+=h(this.shoppinglist[e]);document.querySelector("#shopping-list").innerHTML=t}sortData(t){"asc"===t?this.shoppinglist.sort((function(t,e){return t.price-e.price})):"desc"===t?this.shoppinglist.sort((function(t,e){return e.price-t.price})):"discount"===t&&this.shoppinglist.sort((function(t,e){return t.discount-e.discount})),this.reRender(),this.addShoppingListEvents()}}class m{constructor(){}render(){return d()}addSortEvents(){document.querySelectorAll(".sort").forEach(t=>{t.addEventListener("click",e=>{let i=t.getAttribute("sort-direction");(new u).sortData(i)})})}}const g=(t,e)=>`\n\t<div class="cart-list" id="cart-list">\n\t${t}\n\t</div>\n\t<div class="price-details" id="price-list">\n\t\t${e}\n\t</div>\n\t<div class="clear"></div>\n`,f=t=>`\n\t<div class="cart-item">\n\t\t<div class="item-image float-left">\n\t\t\t<img src="${t.img_url}" width="100" height="120" />\n\t\t</div>\n\t\t<div class="item-details float-left">\n\t\t\t<div class="item-section">\n\t\t\t\t<div class="item-name">${t.name}</div>\n\t\t\t\t<div class="item-value">\n\t\t\t\t\t<span class="discount-price">₹${t.discountPrice}</span>\n\t\t\t\t\t<span class="original-price">${t.price}</span>\n\t\t\t\t\t<span class="discount">${t.discount}% off</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="count-section">\n\t\t\t\t<div class="add-remove-icon minus-icon remove-item" itemid="${t.id}"></div>\n\t\t\t\t<div class="count">${t.count}</div>\n\t\t\t\t<div class="add-remove-icon plus-icon add-item" itemid="${t.id}"></div>\n\t\t\t</div>\n\t\t\t<div class="remove-section" itemid="${t.id}">REMOVE</div>\n\t\t</div>\n\t\t<div class="clear"></div>\n\t</div>\n`,v=t=>`\n\t<h3>PRICE DETAILS</h3>\n\t<table>\n\t\t<tbody>\n\t\t\t<tr>\n\t\t\t\t<th align="left">Price (${t.totalItems} item(s))</th>\n\t\t\t\t<td>:</td>\n\t\t\t\t<td align="right">₹${t.totalPrice}</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<th align="left">Discount</th>\n\t\t\t\t<td>:</td>\n\t\t\t\t<td align="right">₹${t.totalDiscount}</td>\n\t\t\t</tr>\n\t\t</tbody>\n\t\t<tfoot>\n\t\t\t<tr>\n\t\t\t\t<th align="left">Total Payable</th>\n\t\t\t\t<td>:</td>\n\t\t\t\t<td align="right">₹${t.totalPayable}</td>\n\t\t\t</tr>\n\t\t</tfoot>\n\t</table>\n`;class b{constructor(){this.cartItems=[],this.shoppingObj=new u,this.shoppingList=this.shoppingObj.getShoppingList(),this.cartListIDs=this.shoppingObj.getCartListIDs()}renderComponent(){let t=this.getCartList();return this.renderTemplate(t)}renderTemplate(t,e){let i=t.length,n={totalItems:0,totalPrice:0,totalDiscount:0,totalPayable:0},s="";if(i){for(let e=0;e<i;e++)n.totalItems=parseInt(n.totalItems+t[e].count),n.totalPrice=parseFloat(n.totalPrice+t[e].price*t[e].count),n.totalDiscount=parseFloat(n.totalDiscount+(t[e].price-t[e].discountPrice)*t[e].count),n.totalPayable=parseFloat(n.totalPrice-n.totalDiscount),s+=f(t[e]);if(!e)return g(s,v(n));document.querySelector("#cart-list-section").innerHTML=g(s,v(n)),this.addCartListEvents()}else document.querySelector("#cart-list-section").innerHTML="<div class='empty-cart'>Your cart is empty!!!</div>"}getCartList(){for(let i in this.shoppingList){var t=0,e=!1;for(let n of this.cartListIDs)if(parseInt(this.shoppingList[i].id)==parseInt(n)){e||(this.cartItems.push(this.shoppingList[i]),e=!0);let n=this.cartItems.lastIndexOf(this.shoppingList[i]);this.cartItems[n].count=++t}}return this.cartItems}addCartItem(t){let e;this.cartItems.some((function(i,n){return parseInt(i.id)===parseInt(t)&&(e=n,!0)}))&&(this.cartItems[e].count=this.cartItems[e].count+1,this.renderTemplate(this.cartItems,!0))}removeCartItem(t,e){let i,n=this.cartItems.some((function(e,n){return parseInt(e.id)===parseInt(t)&&(i=n,!0)}));"bulk"==e?n&&this.cartItems.splice(i,1):this.cartItems[i].count>1?this.cartItems[i].count=this.cartItems[i].count-1:this.cartItems.splice(i,1),this.renderTemplate(this.cartItems,!0)}addCartListEvents(){document.querySelectorAll(".cart-list .item-details .remove-section").forEach(t=>{t.addEventListener("click",e=>{let i=t.getAttribute("itemid");this.removeCartItem(i,"bulk")})}),document.querySelectorAll(".cart-list .item-details .remove-item").forEach(t=>{t.addEventListener("click",e=>{let i=t.getAttribute("itemid");this.removeCartItem(i)})}),document.querySelectorAll(".cart-list .item-details .add-item").forEach(t=>{t.addEventListener("click",e=>{let i=t.getAttribute("itemid");this.addCartItem(i)})})}}const x={render:()=>"\n\t<p>@copyright</p>\n"},y={init(){this.appElement=document.querySelector("#app"),this.render()},render(){this.loadHeader(),this.renderPage("shoppingList"),this.loadFooter()},loadHeader(){let t=new c;this.header="<header>",this.header+=t.render(),this.header+="</header>"},async loadContent(t){switch(this.cartList=new b,this.sortSection=new m,t){case"addToCart":{let t=await this.cartList.renderComponent();this.content='<section id="cart-list-section">',this.content+=t,this.content+="</section>";break}case"shoppingList":{this.shoppingList=new u;let t=await this.shoppingList.renderComponent();this.content="<section>",this.content+=l.render(),this.content+='<div class="content">',this.content+=this.sortSection.render(),this.content+=t,this.content+="</div>",this.content+='<div class="clear"></div>',this.content+="</section>";break}}return this.content},loadFooter(){this.footer="<footer>",this.footer+=x.render(),this.footer+="</footer>"},async renderPage(t){this.appElement.innerHTML=this.header+await this.loadContent(t)+this.footer,this.shoppingList.addShoppingListEvents(),this.sortSection.addSortEvents(),this.cartList.addCartListEvents()}};i(0);({init(){this.initComponents()},initComponents(){y.init()}}).init()}]);